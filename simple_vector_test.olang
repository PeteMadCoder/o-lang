import "std/vector.olang";
import "std/io.olang";

fn exit(status: int);

fn main() -> int {
    var vec = new Vector<int>();
    
    // Test push operation
    vec.push(1);
    vec.push(2);
    vec.push(3);
    
    // Test size
    var size = vec.size();
    print_int(size);
    unsafe { printf("\n"); }
    
    // Test indexing - print each element individually
    print_int(vec[0]);  // Should print 1
    unsafe { printf(" "); }
    print_int(vec[1]);  // Should print 2
    unsafe { printf(" "); }
    print_int(vec[2]);  // Should print 3
    unsafe { printf("\n"); }
    
    // Test pop
    var popped = vec.pop();
    print_int(popped);  // Should print 3
    unsafe { printf("\n"); }
    
    var new_size = vec.size();
    print_int(new_size);  // Should print 2
    unsafe { printf("\n"); }
    
    // Pop remaining elements
    var popped2 = vec.pop();
    var popped3 = vec.pop();
    
    print_int(popped2);  // Should print 2
    unsafe { printf(" "); }
    print_int(popped3);  // Should print 1
    unsafe { printf("\n"); }
    
    return 0;
}