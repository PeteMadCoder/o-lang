// External C functions
fn strlen(*byte str) -> int;
fn memcpy(*byte dest, *byte src, int n) -> *void;
fn malloc(int size) -> *byte;
fn free(*byte ptr);
fn printf(*byte str);

// Test basic array access outside of structs
fn main() -> int {
    var test_str = "Hello";
    
    unsafe {
        printf("Testing basic array access:\n");
        
        // Test if we can access the string directly
        var ptr = &test_str[1];
        var c = *ptr;
        
        // Cast byte to int for comparison
        var c_int = c;
        
        if (c_int == 101) {
            printf("Direct access works: got 'e'\n");
        } else {
            printf("Direct access failed\n");
        }
    }
    
    return 0;
}
